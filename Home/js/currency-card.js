$(document).ready((function(){$("#currency-list").block(),$("#currency-card").unblock(),$("#transfercurrency").unblock(),$("#convertcurrency").unblock(),$(".currency-list-exchange-rate").length>0&&$.ajax({type:"POST",url:"/enbdapi/v1/currency/getexchangerates",data:{SettingsId:$("#currency-list").data("settingsid"),Language:ENBD.CurrentLanguage},success:function(e){if(e&&e.CurrencyList&&e.CurrencyList.length>0){e.CurrencyList.forEach((function(e){e.CustomerBuy=e.CustomerBuy,e.CustomerSell=e.CustomerSell})),$("#currency-list").html("");var r=$("#exchange-rate-template").html(),t=Handlebars.compile(r)(e.CurrencyList);$("#currency-list").html(t),ENBD.LazyLoad(),new Swiper(".js-forex-cards",{loop:!0,autoplay:{delay:1,disableOnInteraction:!1},slidesPerView:"auto",speed:3e3,grabCursor:!0,mousewheelControl:!0,keyboardControl:!0,spaceBetween:15}),$(".marquee").marquee({pauseOnHover:!0,duplicated:!0,startVisible:!0}),$(".js-marquee-wrapper .js-marquee").clone().appendTo(".js-marquee-wrapper"),$("#currency-list").unblock()}else $("#currency-list").unblock()},error:function(e,r,t){$("#currency-list").unblock()}}),$.ajax({type:"POST",url:"/enbdapi/v1/currency/getexchangerates",data:{SettingsId:$("#currency-card").data("settingsid"),Language:ENBD.CurrentLanguage},success:function(e){if(e&&e.CurrencyList&&e.CurrencyList.length>0){$("#currency-card").html(""),$.each(e.CurrencyList,(function(r,t){e.CurrencyList[r].ConvertedValue=formatCurrency(1/parseFloat(t.CustomerSell))}));var r=$("#currency-exchange-rate-template").html(),t=Handlebars.compile(r)(e.CurrencyList);$("#currency-card").html(t),ENBD.LazyLoad(),tabbedContent(),$("#currency-card").unblock()}else $("#currency-card").unblock()},error:function(e,r,t){$("#currency-card").unblock()}}),$(".form-currency-enter").keyup((function(){var e=formatCurrency($("#cutomerSellValue").val()),r=formatCurrency($(this).find(".enter-curreny").val()),t=formatCurrency(r*formatCurrency(e));isNaN(t)||0==t?$(this).closest("form").find(".convert-curreny").val(""):$(this).closest("form").find(".convert-curreny").val(formatCurrency(t))})),$(".accept-numeric-only").keypress((function(e){var r=new Array;r.push(8);var t=e.which?e.which:e.keyCode;return t>=48&&t<=57||-1!=r.indexOf(t)}))})),jQuery((function(){nbdForex()}));var tabbedContent=function(){const e=document.querySelector(".transfer-country__tabs"),r=document.querySelectorAll(".transfer-country__tab"),t=document.querySelectorAll(".transfer-country__content-item"),n=document.querySelectorAll(".transfer-country__content-close");if(e)for(let c=0;c<r.length;c++)r[c].addEventListener("click",(function(){$(this).find(".enter-curreny").val(""),$(this).find(".convert-curreny").val("");var n=formatCurrency($(this).find(".customersell-value").val()),c=formatCurrency($(this).find(".aed-exchangerate").val()),a=$(this).find(".currencycode-value").val();$("#cutomerSellValue").val(formatCurrency(n)),e.classList.add("is-active");var u=$("#aed_conversion_value").find(".js-aedexchangerate");u.html(u.data("text").replace("{0}",formatCurrency(c)).replace("{1}",a));for(let e=0;e<r.length;e++)r[e].classList.remove("is-active");for(let e=0;e<t.length;e++)t[e].classList.remove("is-active");this.className+=" is-active";let o=this.getAttribute("data-tab");document.getElementById(o).className+=" is-active",$("html, body").animate({scrollTop:$(".transfer-country__content").offset().top-150},"800")}),!1),n.forEach((r=>{r.addEventListener("click",(()=>{e.classList.remove("is-active"),t.forEach((e=>{e.classList.remove("is-active")}))}))}))},nbdForex=function(){new Swiper(".swiper-forex-cards",{slidesPerView:"auto",spaceBetween:0,pagination:{el:".swiper-forex-cards-pagination",clickable:!0},breakpoints:{1300:{allowTouchMove:!1}}})},formatCurrency=function(e){if(!isNaN(e)&&null!=e&&null!=e&&""!=e&&"0.00"!=e){var r=e.toString().split(".");if(2==r.length){var t=r[0],n=r[1],c=t+".";if(null!=n&&""!=n&&null!=n)for(var a=0,u=0;u<5;u++)5!=a&&("0"==n.charAt(u)||(a+=1),c+=n.charAt(u));return parseFloat(c)}return parseFloat(e)}return"0.00"==e?e:0};